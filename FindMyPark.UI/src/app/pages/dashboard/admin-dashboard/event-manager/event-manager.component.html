<div class="event-manager-container">
    <h3>ğŸ“¢ Manage Event Surge Zones</h3>

    <div class="card form-card">
        <h4>Create New Zone</h4>
        <form (ngSubmit)="createEvent()">
            <div class="form-row">
                <div class="form-group">
                    <label>Event Name</label>
                    <input [(ngModel)]="newEvent.name" name="name" placeholder="e.g. Cricket Match" required />
                </div>
                <div class="form-group">
                    <label>Multiplier (x)</label>
                    <input type="number" step="0.1" [(ngModel)]="newEvent.surgeMultiplier" name="multiplier" required />
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Latitude</label>
                    <input type="number" step="0.0001" [(ngModel)]="newEvent.latitude" name="lat" required />
                </div>
                <div class="form-group">
                    <label>Longitude</label>
                    <input type="number" step="0.0001" [(ngModel)]="newEvent.longitude" name="lng" required />
                </div>
                <div class="form-group">
                    <label>Radius (m)</label>
                    <input type="number" [(ngModel)]="newEvent.radiusMeters" name="radius" required />
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Start Time</label>
                    <input type="datetime-local" [(ngModel)]="newEvent.startTime" name="start" required />
                </div>
                <div class="form-group">
                    <label>End Time</label>
                    <input type="datetime-local" [(ngModel)]="newEvent.endTime" name="end" required />
                </div>
            </div>

            <button type="submit" class="btn-primary">Activate Surge</button>
        </form>
    </div>

    <div class="events-list">
        <h4>Active Zones</h4>
        <div *ngFor="let event of activeEvents" class="event-card">
            <div class="event-info">
                <h5>{{ event.name }} ({{ event.surgeMultiplier }}x)</h5>
                <p>Radius: {{ event.radiusMeters }}m | Ends: {{ event.endTime | date:'short' }}</p>
            </div>
            <button class="btn-danger small" (click)="deactivate(event.id)">Stop</button>
        </div>
        <p *ngIf="activeEvents.length === 0" class="empty">No active surge zones.</p>
    </div>
</div>